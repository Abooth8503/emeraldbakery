(this.webpackJsonpemeraldbakery=this.webpackJsonpemeraldbakery||[]).push([[18],{108:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s}));var a=n(0);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var o=function(e){var t=Object(a.useRef)(e);return t.current=e,t},c=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode(e,(function(t,r){"OK"!==r&&a(r),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),n(t)),n(t)}))}))},u=function(e){return new Promise((function(t,n){try{var a=e.geometry.location,r=a.lat,o=a.lng;t({lat:r(),lng:o()})}catch(c){n(c)}}))},s=function(e,t){return new Promise((function(n,a){try{var r=null;e.address_components.forEach((function(e){var n=e.long_name,a=e.short_name;e.types.includes("postal_code")&&(r=t?a:n)})),n(r)}catch(o){a(o)}}))};t.a=function(e){var t=void 0===e?{}:e,n=t.requestOptions,c=t.debounce,u=void 0===c?200:c,s=t.cache,i=void 0===s?86400:s,l=t.googleMaps,d=t.callbackName,f=t.defaultValue,p=void 0===f?"":f,g=t.initOnMount,m=void 0===g||g,v=Object(a.useState)(!1),w=v[0],b=v[1],h=Object(a.useState)(p),O=h[0],y=h[1],j=Object(a.useState)({loading:!1,status:"",data:[]}),k=j[0],S=j[1],D=Object(a.useRef)(null),P=o(n),M=o(l),R=Object(a.useCallback)((function(){var e;if(!D.current){var t=window.google,n=M.current,a=(null==n?void 0:n.places)||(null==t||null==(e=t.maps)?void 0:e.places);a?(D.current=new a.AutocompleteService,b(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),x=Object(a.useCallback)((function(){S({loading:!1,status:"",data:[]})}),[]),A=Object(a.useCallback)(function(e,t){var n;return function(){for(var a=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];null!==n&&(clearTimeout(n),n=null),n=setTimeout((function(){return e.apply(a,o)}),t)}}((function(e){if(e){S((function(e){return r({},e,{loading:!0})}));var t=JSON.parse(sessionStorage.getItem("upa")||"{}");i&&(t=Object.keys(t).reduce((function(e,n){return t[n].maxAge-Date.now()>=0&&(e[n]=t[n]),e}),{}))[e]?S({loading:!1,status:"OK",data:t[e].data}):D.current.getPlacePredictions(r({},P.current,{input:e}),(function(n,a){if(S({loading:!1,status:a,data:n||[]}),i&&"OK"===a){t[e]={data:n,maxAge:Date.now()+1e3*i};try{sessionStorage.setItem("upa",JSON.stringify(t))}catch(r){}}}))}else x()}),u),[u,x]),Y=Object(a.useCallback)((function(e,t){void 0===t&&(t=!0),y(e),D.current&&t&&A(e)}),[A]);return Object(a.useEffect)((function(){if(!m)return function(){return null};var e=window.google;return M.current||null!=e&&e.maps||!d?R():window[d]=R,function(){window[d]&&delete window[d]}}),[d,R]),{ready:w,value:O,suggestions:k,setValue:Y,clearSuggestions:x,init:R}}},371:function(e,t,n){"use strict";n.r(t);var a=n(55),r=n.n(a),o=n(56),c=n(25),u=n(0),s=n.n(u),i=n(108),l=n(35),d=n(82),f=n.n(d),p=n(3),g="ABCDEFGHIJKLMNOPQRSTUVWXYZ",m=0;t.default=function(){var e=s.a.useRef(null),t=Object(u.useState)(),n=Object(c.a)(t,2),a=(n[0],n[1]),d=void 0;Object(u.useEffect)((function(){var e=document.getElementById("googlescript");function t(){return(t=Object(o.a)(r.a.mark((function t(){var n,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new Request("https://emeraldorderfunction.azurewebsites.net/api/Function1?code=".concat("SJnzGwJWDlXNzdn4RUMTOp2DRiPOp/joi1F7zthOwOuBlsK8EOcvOw=="),{method:"GET"}),t.next=4,Object(l.d)(n);case 4:(o=t.sent).length>0&&(c=o.filter((function(e){if(f()(e.DeliveryDate).format("MM-DD-YYYY")==f()(new Date).format("MM-DD-YYYY"))return e})),a(c),null!==e&&(d=v(),b(c))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var v=function(){return new google.maps.Map(e.current,{center:{lat:29.56638929999999,lng:-98.3988705},zoom:10})};function w(e,t,n){var a=new google.maps.Marker({animation:google.maps.Animation.DROP,position:e,label:"".concat(g[m++%g.length]," ").concat(n.Name),map:t}),r="".concat(n.Address," ").concat(n.City,",").concat(n.State),o=encodeURI(r),c="https://www.google.com/maps/search/?api=1&query=".concat(o),u="<h3>\n        <a href='".concat(c,"'>").concat(n.Address,"</a>\n      </h3>\n    "),s=new google.maps.InfoWindow({content:u});a.addListener("click",(function(){s.open(t,a)}))}function b(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.forEach(function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,c,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t.Address,", ").concat(t.City,", ").concat(t.State," ").concat(t.ZipCode),e.next=3,Object(i.b)({address:n});case 3:return a=e.sent,e.next=6,Object(i.c)(a[0]);case 6:o=e.sent,c=o.lat,u=o.lng,void 0!==d&&w({lat:c,lng:u},d,t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)("div",{ref:e,style:{width:600,height:"100%",position:"absolute"}})}}}]);
//# sourceMappingURL=18.b1677128.chunk.js.map